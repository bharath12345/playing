define(["dojo/_base/declare"],function(a){var b=a("d3AppGraph",null,{launch:function(){function a(){k.attr("transform","translate("+d3.event.translate+")"+" scale("+d3.event.scale+")")}function c(){l.stop()}function d(a){a.px+=d3.event.dx,a.py+=d3.event.dy,a.x+=d3.event.dx,a.y+=d3.event.dy,f()}function e(a){a.fixed=!0,f(),l.stop()}function f(){m.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),h.attr("transform",function(a){return"translate("+a.x+","+a.y+")"})}this.nodes=this.getNodes(),this.links=this.getLinks();var g=d3.scale.category10(),h=document.getElementById("D3AppGraphPane"),i=h.clientWidth-50,j=h.clientHeight-50;console.log("view port width = "+i+" height = "+j);var k=d3.select("#D3AppGraph").append("svg").attr("width",i).attr("height",j).attr("preserveAspectRatio","xMidYMid meet").attr("pointer-events","all").append("svg:g").call(d3.behavior.zoom().on("zoom",a)).append("svg:g");k.append("svg:rect").attr("width",i).attr("height",j).attr("fill","white");var l=self.force=d3.layout.force().nodes(this.nodes).links(this.links).gravity(.05).distance(200).charge(-500).size([i,j]).start(),m=k.selectAll("line.link").data(this.links).enter().append("svg:line").attr("class","link").attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),n=d3.behavior.drag().on("dragstart",c).on("drag",d).on("dragend",e),h=k.selectAll("g.node").data(this.nodes).enter().append("svg:g").attr("class","node").call(n);h.append("svg:image").attr("class","node").attr("xlink:href",function(a){return console.log("group for image in d = "+a.group),1==a.group?b.APPGROUPICON:b.APPICON}).attr("x","-8px").attr("y","-8px").attr("width","32px").attr("height","32px"),h.append("svg:text").attr("class","nodetext").attr("dx",12).attr("dy",".35em").text(function(a){return a.name}).style("fill",function(a){return g(a.group)}),l.on("tick",f);for(var o=0;100>o;++o)l.tick();l.stop()},getNodes:function(){return b.nodes},getLinks:function(){return b.links}});return b.nodes=[{name:"CustomerFacingApp",group:1},{name:"CriticalInterfaceApp",group:1},{name:"CoreApplication",group:1},{name:"InternalOperationsApp",group:1},{name:"InternalBusinessApp",group:1},{name:"CollectionApplication",group:2},{name:"DisbursementApplication",group:2},{name:"RegistrationApplication",group:2}],b.links=[{source:0,target:1,value:1},{source:1,target:2,value:2},{source:1,target:3,value:2},{source:1,target:4,value:2},{source:3,target:2,value:3},{source:4,target:2,value:3},{source:4,target:3,value:4},{source:3,target:4,value:4},{source:5,target:1,value:5},{source:6,target:3,value:5},{source:7,target:4,value:5}],b.APPGROUPICON="../../images/topograph/AppSet.128.png",b.APPICON="../../images/topograph/AppGlobe.64.png",b});